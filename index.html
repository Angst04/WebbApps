<!DOCTYPE html>
<html lang="ru">

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>StoryTeller</title>
   <link rel="stylesheet" href="style.css">
</head>

<body>
   <div class="slider">
      <output for="fader" id="volume">1</output>
      <input type="range" id="fader" min="1" max="90" value="1" step="1" oninput="outputUpdate(value)">
      <button id="send">Отправить</button>
   </div>

   <script src="https://telegram.org/js/telegram-web-app.js"></script>
   <script type="text/javascript">
      let tg = window.Telegram.WebApp;
      
      tg.MainButton.show()
      tg.MainButton.text = "Вернутся"; //изменяем текст кнопки 
      tg.MainButton.textColor = "#F55353"; //изменяем цвет текста кнопки
      tg.MainButton.color = "#143F6B"; //изменяем цвет бэкграунда кнопки

      function outputUpdate(vol) {
         var output = document.querySelector('#volume');
         output.value = vol;
         if (vol < 45) {
            output.style.left = vol - 35 + 'px';
         };
         if (vol > 45) {
            output.style.left = vol - 17 + 'px';
         }
         
      };

      let send = document.getElementById("send");

      send.addEventListener("click", () => {
         let age = document.getElementById("fader").value;

         tg.sendData(age);
         tg.close();
      });
   </script>

</body>

</html>
